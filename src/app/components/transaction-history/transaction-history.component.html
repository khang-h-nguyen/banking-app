<div class="container mt-4">
    <h2>Transaction History</h2>
    <div class="mb-3">
        <label class="form-label">Filter by Account</label>
        <select class="form-select" [(ngModel)]="selectedAccountId" (ngModelChange)="filterTransactions()">
            <option value="">All Accounts</option>
            <option *ngFor="let account of accounts" [value]="account.id">
                {{account.name}} ({{account.type}}) - Balance: ${{account.balance}}
            </option>
        </select>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th>From Account</th>
                <th>To Account</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let transaction of filteredTransactions">
                <td>{{transaction.date | date:'medium'}}</td>
                <td>{{getAccountName(transaction.fromAccountId)}}</td>
                <td>{{getAccountName(transaction.toAccountId)}}</td>
                <td>${{transaction.amount}}</td>
            </tr>
        </tbody>
    </table>
</div>